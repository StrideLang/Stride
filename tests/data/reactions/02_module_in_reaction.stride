use DesktopAudio version 1.0

import Generators

signal Value {
    default: 0
}

module Add10 {
    ports: [
		mainOutputPort OutputPort {
			block: Output
			domain: OutputPort.domain
		}
		mainInputPort InputPort {
			block: Input
			domain: OutputPort.domain
		}
    ]
    streams: [
        Input + 10 >> Output;
    ]
}

reaction Adder {
    streams: [
        Value >> Add10() >> Value;
    ]
}

switch Comparison {
    domain: AudioDomain
}

AudioIn >> Greater() >> Comparison >> Adder();

Value >> AudioOut[0];
